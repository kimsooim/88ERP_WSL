당신은 외부 명령(AI)을 받아 Synology NAS에서 자동화 작업을 실행하고,
그 결과를 웹 대시보드에 표시하는 시스템을 구축하는 개발자입니다.

📌 전체 시나리오 요약:
1. 사용자가 Claude에게 명령을 내립니다.  
   예: "88toy.txt 파일의 첫 5줄을 삭제해줘"

2. Claude는 이 명령을 외부 서버(n8n)에 Webhook 형태로 전달합니다.  
   예: POST /nas-edit { file: "88toy.txt", action: "delete_line", count: 5 }

3. n8n은 명령을 해석하여 SSH 또는 Synology API를 통해 NAS에서 파일을 수정합니다.

4. 수정 결과(성공/실패, 작업 내용, 파일명, 타임스탬프)를 Supabase 또는 Google Sheet에 저장합니다.

5. 웹 대시보드(Next.js 기반 88ERP 등)에서 해당 결과를 실시간으로 조회할 수 있습니다.

💡 보안 고려사항:
- Webhook은 JWT 인증을 사용합니다.
- NAS는 외부에 직접 노출되지 않으며, Cloudflare Tunnel 또는 로컬 SSH를 통해 접근합니다.
- 모든 로그는 저장 후 관리자만 확인 가능하게 합니다.

🎯 목표:
- Claude 명령을 받아 NAS 작업을 실행하고
- 결과를 기록/표시하는 end-to-end 자동화를 구축하는 것입니다.

이 시나리오를 기반으로 코드를 설계하거나 API 흐름을 구축하세요.


[Claude]
   │  사용자 명령 입력 (예: "파일 수정해줘")
   ▼
[MCP 서버 또는 n8n Webhook]
   │  명령 해석 → API 호출 변환
   ▼
[Reverse Proxy / Cloudflare Tunnel]
   │  인증된 요청만 내부로 전달 (JWT 등 적용)
   ▼
[NAS: Synology API / SSH Script]
   └→ 실제 파일 작업 실행 (수정, 삭제, 이동 등)
   ▼
[결과 저장: Supabase / Google Sheet / JSON Log]
   │  실행 결과, 시간, 대상 파일 등 기록
   ▼
[웹 대시보드 (Next.js / Vercel / 88ERP)]
   └→ 실시간으로 작업 결과 조회 가능



흐름이 잘볼수있게 웹대시보드에서 구현하자
