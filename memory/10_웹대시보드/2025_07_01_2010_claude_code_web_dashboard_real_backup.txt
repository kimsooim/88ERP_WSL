# 웹대시보드 다운 및 Git 백업 문제 해결 기록

날짜: 2025년 7월 1일
작성자: Claude Code
대화 참여자: Ann, Claude Code

## 1. 웹대시보드 다운 및 복구 과정

### 문제 발생
- WSL 환경에서 pm2로 서버 재시작 시도 중 웹대시보드 다운
- 접속 불가 상태 발생

### 해결 과정
1. pm2 프로세스 확인
   - `pm2 list`로 상태 확인
   - 비정상 프로세스 발견

2. pm2 프로세스 완전 삭제
   ```bash
   pm2 delete all
   pm2 kill
   ```

3. 서버 재시작
   ```bash
   cd /home/sp1/88ERP/projects/10_웹대시보드
   npm run dev
   ```

4. 정상 접속 확인
   - http://localhost:3000 접속 성공
   - 웹대시보드 정상 작동 확인

### Rocky VM 상태
- 아직 웹대시보드 배포 전 상태
- 추후 배포 예정

## 2. Git 백업 문제 발견 및 해결

### 문제 발견
- 6월 30일 v1.1.0 태그로 백업했다고 기록되었으나 실제로는 소스코드 백업 안 됨
- GitHub에서 확인 결과 태그만 존재하고 실제 파일은 없음
- 원인: Git 서브모듈로 관리되고 있어서 메인 저장소에 파일이 포함되지 않음

### 실제 상황
```
88ERP/
├── .git/
├── .gitmodules (서브모듈 설정)
└── projects/
    └── 10_웹대시보드/ (서브모듈로 링크됨)
```

### 해결 과정 (7월 1일)

1. 서브모듈 제거
   ```bash
   git rm --cached projects/10_웹대시보드
   rm -rf .git/modules/projects/10_웹대시보드
   ```

2. .gitmodules 파일 삭제
   ```bash
   rm .gitmodules
   ```

3. 실제 파일들을 메인 저장소에 추가
   ```bash
   git add projects/10_웹대시보드
   ```

4. 백업 커밋 및 태그
   ```bash
   git commit -m "Add: 웹대시보드 실제 소스코드 백업 (서브모듈 제거)"
   git tag -a v1.2.0 -m "웹대시보드 실제 백업 완료 - 2384개 파일"
   git push origin main --tags
   ```

### 백업 결과
- 총 2,384개 파일 백업 완료
- TypeScript/TSX 파일: 66개
- 주요 디렉토리: components/, app/, lib/, public/, styles/
- v1.2.0 태그로 실제 백업 표시

## 3. 중요 교훈 및 향후 대책

### 교훈
1. **백업 검증 필수**
   - 백업 후 반드시 GitHub에서 실제 파일 확인
   - 태그만 있는지, 실제 파일도 있는지 확인

2. **서브모듈 주의**
   - Git 서브모듈은 별도 관리 필요
   - 메인 저장소에는 링크만 저장됨
   - 실제 백업 시 서브모듈 내용도 포함 필요

3. **중요 작업 전 백업**
   - 대규모 변경 전 백업 폴더 생성
   - 버전 태그로 관리

### 향후 대책
1. 백업 프로세스 개선
   - 백업 → 확인 → 기록 순서 준수
   - 자동화 스크립트에 검증 단계 추가

2. 서브모듈 관리 방안
   - 가능하면 서브모듈 사용 최소화
   - 필요시 별도 백업 전략 수립

3. 문서화 개선
   - 백업 상태 정확히 기록
   - 검증 결과도 함께 기록

## 4. 현재 상태 (2025년 7월 1일 20:10)

- WSL 웹대시보드: 정상 작동 중
- Git 백업: v1.2.0으로 실제 백업 완료
- Rocky VM: 배포 대기 중
- 총 작업 시간: 약 2시간

---
메모리 저장 완료: 2025_07_01_2010_claude_code_web_dashboard_real_backup.txt